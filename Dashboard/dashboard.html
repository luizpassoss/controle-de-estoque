<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="dashboard.css">
    <script src="dashboard.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap');
        </style>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/boxicons@2.1.0/css/boxicons.min.css" rel="stylesheet">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


    <style>
        input::placeholder {
            color: rgba(242, 242, 242, 0.673);  
        }
        </style>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <style>
            .custom-button{
                background-color: white;
            }
           
            /* Altera a cor de fundo ao passar o mouse sobre o botão */
            .custom-button:hover {
                background-color: rgb(54, 73, 200);
                color: rgb(255, 255, 255); /* Altera a cor do texto ao passar o mouse */
                transition: 0.5s;
            }
            .custom-button:focus{
                background-color: rgb(54, 73, 200);
                color: rgb(255, 255, 255); /* Altera a cor do texto ao passar o mouse */
                transition: 0.5s;
            }


        </style>

</head>
<body>
    <header>
        <div>
            <section class="menucima">
                <div> <img src="../Imagens/Fotos/Icones/logoconforme2.png" alt="" id="logoconforme"></div>
                <div> <input type="text" placeholder="Buscar..." id="barrabuscar" ></div>
                <div><i class='bx bx-search-alt text-secondary fs-5 opacity-75 position-absolute' style="left: 19.7%;top: 3%;"></i>
                    <img src="../Imagens/Fotos/Icones/bandeiragrande.jpg" alt="" id="bandeirabrasil">
                    <i class='bx bx-fullscreen text-white fs-5 position-absolute' style="left: 80%; top: 3.3%;"></i>
                    <i class='bx bx-bell text-white fs-5 position-absolute' style="left: 82.7%;top: 3.3%;"></i>
                    <i id="login"  class='bx bxs-user-circle text-white fs-2 position-absolute' style="left: 85.1%; top: 2.5%;"><p style="font-size: 40%;position: absolute; top: 30%; left: 140%; font-family: 'Roboto', sans-serif;font-weight: 400;">Caue</p><i class='bx bx-chevron-down text-white fs-5 position-absolute' style="left: 225%; top: 15%;"></i> </i>
                    <i class='bx bx-cog text-white fs-5 position-absolute' style="left: 94%; top: 3.1%;" ></i></div>
                
            </section>

        </div>
    </header>
    <main>

        <div class="bloco0">
            <p id="textd"><i class='bx bx-home-circle'></i>Dashboard</p>
            <p id="textdoações"><i class='bx bx-donate-heart' ></i>Doações</p>
           
        </div>
        <p class="textdashboard">DASHBOARD</p>
        <p class="pd">Paineis / Dashboard</p>
        <div class="bloco1">Arrecadação Mensal</div>
        <div class="bloco2">Recentes</div>
        <div class="bloco3">Arrecadações
            <canvas id="myChart" height="3vh" width="10vw"></canvas>
            <button class="position-absolute custom-button" onclick="updateChart('weekly')" style="border: 0;border-radius: 5px;font-size: 90%;font-family: 'Roboto', sans-serif;font-weight: 500;left: 72%;top: 3%;padding: 1%;">Semanal</button>
            <button class="position-absolute custom-button" onclick="updateChart('monthly')"style="border: 0;border-radius: 5px;font-size: 90%;font-family: 'Roboto', sans-serif;font-weight: 500;left: 82%;top: 3%;padding: 1%;" >Mensal</button>
            <button class="position-absolute custom-button" onclick="updateChart('yearly')" style="border: 0;border-radius: 5px;font-size: 90%;font-family: 'Roboto', sans-serif;font-weight: 500;left: 92%;top: 3%;padding: 1%;">Anual</button>

            <script>
                
                // Dados de exemplo para os gráficos
                const data = {
                    labels: ["Jan", "Fev", "Mar", "Abr", "Mai", "Jun", "Jul", "Ago", "Set", "Out", "Nov", "Dez"],
                    objetos: [60, 70, 80, 75, 65, 55, 70, 80, 85, 90, 95, 100],
                    alimentos: [40, 50, 60, 55, 45, 35, 50, 60, 65, 70, 75, 80],
                    monetario: [20, 30, 40, 35, 25, 15, 30, 40, 45, 50, 55, 60]
                };
            
                let currentOption = 'monthly'; // Opção inicial
            
                // Função para criar o gráfico
                function createChart(labels, objetos, alimentos, monetario) {
                    const ctx = document.getElementById('myChart').getContext('2d');
                    const myChart = new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: labels,
                            datasets: [{
                                label: 'Objetos',
                                data: objetos,
                                borderColor: '#3e3ec2',
                                backgroundColor: '#3e3ec2',
                            }, {
                                label: 'Alimentos',
                                data: alimentos,
                                borderColor: '#ffbf00 ',
                                backgroundColor: '#ffbf00 ',
                            }, {
                                label: 'Monetário',
                                data: monetario,
                                borderColor: '#2e8b57',
                                backgroundColor: '#2e8b57',
                            }]
                        },
                        options: {
                            scales: {
                                y: {
                                    min: 0,
                                    max: 100
                                }
                            }
                        }
                    });
                }
            
                // Função para atualizar o gráfico com base na opção selecionada
                function updateChart(option) {
                    currentOption = option;
                    if (option === 'weekly') {
                        const weeklyData = getWeeklyData(data);
                        createChart(weeklyData.labels, weeklyData.objetos, weeklyData.alimentos, weeklyData.monetario);
                    } else if (option === 'monthly') {
                        createChart(data.labels, data.objetos, data.alimentos, data.monetario);
                    } else if (option === 'yearly') {
                        const yearlyData = getYearlyData(data);
                        createChart(yearlyData.labels, yearlyData.objetos, yearlyData.alimentos, yearlyData.monetario);
                    }
                }
            
                // Função para obter dados semanais
                function getWeeklyData(data) {
                    const weeksData = {
                        labels: [],
                        objetos: [],
                        alimentos: [],
                        monetario: []
                    };
            
                    for (let i = 0; i < data.labels.length; i++) {
                        const month = data.labels[i];
                        const objetos = data.objetos[i];
                        const alimentos = data.alimentos[i];
                        const monetario = data.monetario[i];
            
                        for (let j = 1; j <= 4; j++) {
                            const avgObjetos = objetos / 4;
                            const avgAlimentos = alimentos / 4;
                            const avgMonetario = monetario / 4;
            
                            weeksData.labels.push(`Semana ${j} - ${month}`);
                            weeksData.objetos.push(avgObjetos);
                            weeksData.alimentos.push(avgAlimentos);
                            weeksData.monetario.push(avgMonetario);
                        }
                    }
            
                    return weeksData;
                }
            
                // Função para obter dados anuais
                function getYearlyData(data) {
                    const yearlyData = {
                        labels: ['Anual'],
                        objetos: [average(data.objetos)],
                        alimentos: [average(data.alimentos)],
                        monetario: [average(data.monetario)]
                    };
                    return yearlyData;
                }
            
                // Função para calcular a média de um array
                function average(arr) {
                    return arr.reduce((acc, val) => acc + val, 0) / arr.length;
                }
            
                // Inicializar o gráfico com a opção inicial
                updateChart(currentOption);
            </script>

        </div>
        <div class="bloco4">Doações Total</div>
        <div class="bloco5">Arrecadação Total</div>
        <div class="bloco6">Pessoas Ajudas</div>
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
        <script>
          // Adiciona um listener de evento para o parágrafo clicável
          document.getElementById("textd").addEventListener("click", function() {
            // Redireciona para dashboard.html
            window.location.href = "dashboard.html";
          });

          // Adiciona um estilo de cursor diferente para indicar que o parágrafo é clicável
          document.getElementById("textd").style.cursor = "pointer";
        </script>
        <script>
            // Adiciona um listener de evento para o parágrafo clicável
            document.getElementById("textdoações").addEventListener("click", function() {
              // Redireciona para dashboard.html
              window.location.href = "PainelDoações.html";
            });
        
            // Adiciona um estilo de cursor diferente para indicar que o parágrafo é clicável
            document.getElementById("textdoações").style.cursor = "pointer";
          </script>
          <script>// Adiciona um listener de evento para o parágrafo clicável
            document.getElementById("login").addEventListener("click", function() {
              // Redireciona para dashboard.html
              window.location.href = "../Login/login.html";
            });</script>
          <div class="position-absolute" style="background-color: rgb(242, 242, 242); top: 94%; height: 6%; width: 100%;"><p class="position-absolute" style="top: 32%;left: 10%; font-size: 65%;font-family: 'Roboto', sans-serif; color: rgb(130, 130, 130);">2024 <i class='bx bx-copyright' style="top:50%;"></i> Instituto Conforme.</p><p class="position-absolute"style="top: 32%;left: 80%; font-size: 65%;font-family: 'Roboto', sans-serif;color: rgb(130, 130, 130);">Desenvolvido por UHDC.</p></div>
    </main>
    
</body>
</html>